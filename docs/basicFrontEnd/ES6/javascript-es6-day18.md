---
autoGroup-1: ES6
sidebarDepth: 3
title: 18. 剖析JavaScript的执行机制
---

## 进程与线程的区别
### 1. 进程
进程（工厂）：进程是计算机中的程序关于某数据集合的一次运行活动，是系统进行资源分配和调度的基本单元。

1. 单进程：启动的单一的进程，单个进程执行任务；但是可以轮转时间片模拟多进程。
2. 多进程：启动多个进程，多个进程可以一块来执行多个任务。

### 2. 线程
1. 单线程（工人）：进程内一个相对独立的，可以调用的执行单元，于同属的一个线程共享着进程的资源（同一时间，只能做一件事情）。
2. 多线程：启动一个进程，在一个进程内部启动多个线程，这样，多个线程也可以一块执行多个任务；也是通过调度来做的，如同多进程，能够多任务一样，多线程也能够做多任务。

### 3. 示例
```md
工厂的资源  ----> 系统分配的内存（独立的一块内存）
工厂之间的相互独立 ----> 进程之间互相独立
多个工人协作完成任务  ----> 多个线程在进程中协作完成任务
工厂内有一个或者多个工人  -----> 一个进程由一个或者多个线程组成
工厂相当于进程，工人相当于线程
```

## 浏览器
### 1. 浏览器是多进程
浏览器属于多进程，内部由Browser进程、第三方插件进程、浏览器渲染引擎进程（浏览器的内核）。

### 2. 浏览器渲染引擎进程
浏览器渲染引擎进程（浏览器内核）是多线程的
1. JS引擎线程（单线程）
2. GUI线程绘制DOM
3. http网络请求线程（异步处理，WebAPIs）
4. 定时器触发线程（异步处理，WebAPIs）
5. 浏览器时间处理线程 （异步处理，WebAPIs）

为什么JS引擎线程必须是单线程呢？    
因为JavaScript作为脚本语言是要能够与用户进行交互的，既然要进行交互就要牵扯的操作DOM，如果JS引擎线程是多线程的话，name会导致DOM还没绘制完成，JS代码完成执行的窘境，所以JS引擎线程与GUI线程绘制DOM是互斥的。单线程能够解决这个互斥的问题。


